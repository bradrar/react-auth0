{"version":3,"sources":["contexts/auth0-context.js","components/Header.js","App.js","index.js"],"names":["Auth0Context","createContext","useAuth0","useContext","Auth0Provider","state","auth0Client","isLoading","isAuthenticated","user","config","domain","process","client_id","redirect_uri","window","location","origin","initializeAuth0","a","createAuth0Client","setState","search","includes","handleRedirectCallback","getUser","history","replaceState","document","title","pathname","this","children","props","configObject","loginWithRedirect","getTokenSilently","getIdTokenClaims","logout","Provider","value","Component","Header","className","onClick","name","returnTo","App","picture","src","alt","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.f4a4a08c.chunk.js","sourcesContent":["import React, { Component, createContext, useContext } from 'react';\r\nimport createAuth0Client from '@auth0/auth0-spa-js';\r\n\r\n// create the context\r\nexport const Auth0Context = createContext();\r\nexport const useAuth0 = () => useContext(Auth0Context);\r\n\r\n// create a provider\r\nexport class Auth0Provider extends Component {\r\n\tstate = {\r\n\t\tauth0Client: null,\r\n\t\tisLoading: true,\r\n\t\tisAuthenticated: false,\r\n\t\tuser: null\r\n\t};\r\n\tconfig = {\r\n\t\tdomain: process.env.REACT_APP_AUTH0_DOMAIN,\r\n\t\tclient_id: process.env.REACT_APP_AUTH0_CLIENT_ID,\r\n\t\tredirect_uri: window.location.origin\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.initializeAuth0();\r\n\t}\r\n\r\n\t// initialize the auth0 library\r\n\tinitializeAuth0 = async () => {\r\n\t\tconst auth0Client = await createAuth0Client(this.config);\r\n\t\tthis.setState({ auth0Client });\r\n\r\n\t\t// check to see if they have been redirected after login\r\n\t\tif (window.location.search.includes('code=')) {\r\n\t\t\treturn this.handleRedirectCallback();\r\n\t\t}\r\n\r\n\t\tconst isAuthenticated = await auth0Client.isAuthenticated();\r\n\t\tconst user = isAuthenticated ? await auth0Client.getUser() : null;\r\n\t\tthis.setState({ isLoading: false, isAuthenticated, user });\r\n\t};\r\n\r\n\thandleRedirectCallback = async () => {\r\n\t\tthis.setState({ isLoading: true });\r\n\r\n\t\tawait this.state.auth0Client.handleRedirectCallback();\r\n\t\tconst user = await this.state.auth0Client.getUser();\r\n\r\n\t\tthis.setState({ user, isAuthenticated: true, isLoading: false });\r\n\t\twindow.history.replaceState({}, document.title, window.location.pathname);\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { auth0Client, isLoading, isAuthenticated, user } = this.state;\r\n\t\tconst { children } = this.props;\r\n\r\n\t\tconst configObject = {\r\n\t\t\tisLoading,\r\n\t\t\tisAuthenticated,\r\n\t\t\tuser,\r\n\t\t\tloginWithRedirect: (...p) => auth0Client.loginWithRedirect(...p),\r\n\t\t\tgetTokenSilently: (...p) => auth0Client.getTokenSilently(...p),\r\n\t\t\tgetIdTokenClaims: (...p) => auth0Client.getIdTokenClaims(...p),\r\n\t\t\tlogout: (...p) => auth0Client.logout(...p)\r\n\t\t};\r\n\r\n\t\treturn <Auth0Context.Provider value={configObject}>{children}</Auth0Context.Provider>;\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport { useAuth0 } from '../contexts/auth0-context';\r\nimport './Header.css'\r\n\r\nexport default function Header() {\r\n  const { isLoading, user, loginWithRedirect, logout } = useAuth0();\r\n\r\n  return (\r\n    <header>\r\n      <nav className=\"navbar is-dark\">\r\n        <div className=\"container\">\r\n          <div className=\"navbar-menu is-active\">\r\n            {/* logo */}\r\n            <div className=\"navbar-brand\">\r\n              <button className=\"navbar-item\">My Cool App!</button>\r\n            </div>\r\n\r\n            {/* menu items */}\r\n            <div className=\"navbar-end\">\r\n              {/* if there is no user. show the login button */}\r\n              {!isLoading && !user && (\r\n                <button onClick={loginWithRedirect} className=\"navbar-item\">\r\n                  Login\r\n                </button>\r\n              )}\r\n\r\n              {/* if there is a user. show user name and logout button */}\r\n              {!isLoading && user && (\r\n                <>\r\n                  <button className=\"navbar-item\">{user.name}</button>\r\n                  <button\r\n                    onClick={() => logout({ returnTo: window.location.origin })}\r\n                    className=\"navbar-item\"\r\n                  >\r\n                    Logout\r\n                  </button>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    </header>\r\n  );\r\n}","import React from 'react';\r\nimport 'bulma/css/bulma.css';\r\nimport { useAuth0 } from './contexts/auth0-context';\r\nimport Header from './components/Header';\r\n\r\nfunction App() {\r\n  const { isLoading, user, loginWithRedirect, logout } = useAuth0();\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n\r\n      <div className=\"hero is-info is-fullheight\">\r\n        <div className=\"hero-body\">\r\n          <div className=\"container has-text-centered\">\r\n            {!isLoading && !user && (\r\n              <>\r\n                <h1>Click Below!</h1>\r\n                <button onClick={loginWithRedirect} className=\"button is-danger\">\r\n                  Login\r\n              </button>\r\n              </>\r\n            )}\r\n            \r\n            {!isLoading && user && (\r\n              <>\r\n                <h1>You are logged in!</h1>\r\n                <p>Hello {user.name}</p>\r\n\r\n                {user.picture && <img src={user.picture} alt=\"My Avatar\" />}\r\n                <hr />\r\n\r\n                <button\r\n                  onClick={() => logout({ returnTo: window.location.origin })}\r\n                  className=\"button is-small is-dark\"\r\n                >\r\n                  Logout\r\n          </button>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { Auth0Provider } from './contexts/auth0-context';\r\n\r\nReactDOM.render(\r\n\t<Auth0Provider>\r\n\t\t<App />\r\n\t</Auth0Provider>,\r\n\tdocument.getElementById('root')\r\n);\r\n"],"sourceRoot":""}